<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/stylesheets/signup.css">
    <script>
        function validate(){
            var name = document.getElementById('name').value
            var uname = document.getElementById('uname').value
            var email = document.getElementById('email').value
            var age = document.getElementById('age').value
            var pwd = document.getElementById('password').value
            var rpwd = document.getElementById('confirmPassword').value

            if(pwd === rpwd){
                fetch('/signup',{
                    method: 'POST',
                    redirect: "follow",
                    headers:{
                        'Content-Type' : 'application/json',
                    },
                    body : JSON.stringify({
                        name : name,
                        username: uname,
                        email: email,
                        age : age,
                        pwd : pwd,
                    })
                })
                .then((res)=>{
                    window.location.replace("/login")
                })
            }else{
                alert("Passwords do not match")
            }
        }
    </script>
    <title>Registration</title>
</head>
<body>
    <div class="parent clearfix" style="background-color: black;">
        <div class="bg-illustration">
        </div>

        <div class="login">
            <div class="container">
                <h2 style="text-align: center;padding-top: 30px;">GameKart</h2><br>
                <h1>Enter details</h1>

                <div class="login-form">
                    <form  onsubmit="return validate()">
                        <input type="text" id="name" placeholder="Name" required>
                        <input type="text" id="uname" placeholder="Username" required>
                        <input type="email" id="email" placeholder="E-mail Address" required>
                        <input type="number" id="age" placeholder="Age" required>
                        <input type="password" id="password" placeholder="Password" required>
                        <input type="password" id="confirmPassword" placeholder="Confirm Password" required>

                        <button type="submit">Register</button>
                    </form>
                </div>

            </div>
        </div>
    </div>
</body>
</html>